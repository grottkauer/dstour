<div class="card-header text-center">
  <h1 class="text-uppercase">Dane osobowe</h1>
  <h4 class="section-subheading text-white">Twoje dane, które zostały przez Ciebie podane podczas rejestracji</h4>
</div>
<form [formGroup]="myForm">
  <div class="container mb-4 mt-3" id="edit_data">
    <div class="card cardRegistry text-center bg-white">
      <div class="card-body text-center">
        <div class="row">
          <div class="col-sm-6 form-group text-left">
            <label>Imię</label>
            <input *ngIf="isEditable==0" name="firstName" type="text" class="form-control" disabled [value]="user.firstName">
            <input *ngIf="isEditable==1" [value]="user.firstName" formControlName="firstName" name="firstName" type="text" class="form-control">
            <mat-error *ngIf="myForm.get('email').hasError('pattern')">Imię ma zły format</mat-error>
          </div>
          <div class="col-sm-6 form-group text-left">
            <label>Nazwisko</label>
            <input *ngIf="isEditable==0" name="lastName" type="text" class="form-control" disabled [value]="user.lastName">
            <input *ngIf="isEditable==1" [value]="user.lastName" formControlName="lastName" name="lastName" type="text" class="form-control">
            <mat-error *ngIf="myForm.get('email').hasError('pattern')">Nazwisko ma zły format</mat-error>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12 form-group text-left">
            <label>Adres email</label>
            <input *ngIf="isEditable==0" name="email" type="email" class="form-control" disabled [value]="user.email">
            <input matInput *ngIf="isEditable==1" [value]="user.email" formControlName="email" name="email" type="email" class="form-control">
            <mat-error *ngIf="myForm.get('email').hasError('pattern')">Adres email ma zły format</mat-error>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12 form-group text-left">
            <label>Rola</label>
            <input id="demo" type="text" class="form-control" disabled [value]="user.role">
          </div>
        </div>
        <div class="row">
          <div [ngClass]="{'col-sm-6': isEditable==1, 'col-sm-12': isEditable==0}">
            <button type="submit" class="btn btn-raised btn-primary mb-1" id="saveData" [disabled]="myForm.invalid" (click)="changeEditable()">
              <div *ngIf="isEditable==0">
                Zmień dane
              </div>
              <div *ngIf="isEditable==1" (click)="editUser()">
                Potwierdź zmianę
              </div>
            </button>
          </div>
          <div *ngIf="isEditable==1" class="col-sm-6">
            <button type="submit" class="btn btn-raised btn-primary mb-1" (click)="changeEditable()">
              Anuluj zmiany
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

