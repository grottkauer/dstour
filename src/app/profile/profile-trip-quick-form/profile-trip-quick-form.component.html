<form [formGroup]="myForm" class="bg-white p-3 mb-3">
  <div class="text-center">

  </div>
  <div class="row text-center">
    <div class="col-md-6">
      <mat-form-field class="w-100">
        <input matInput placeholder="Nazwa wycieczki" formControlName="name">
        <mat-error *ngIf="myForm.get('name').hasError('required')">Nazwa wycieczki jest wymagana</mat-error>
      </mat-form-field>
    </div>
    <div class="col-md-6">
      <mat-form-field class="w-100">
        <input matInput placeholder="Data wycieczki" formControlName="tripDate">
      </mat-form-field>
    </div>
  </div>
  <div class="row text-center">
    <div class="col-md-3">
      <mat-form-field class="w-100">
        <input matInput placeholder="Biuro podróży" formControlName="travelAgency">
      </mat-form-field>
    </div>
    <div class="col-md-3">
      <mat-form-field class="w-100">
        <input matInput placeholder="Liczba uczestników" formControlName="groupCount">
      </mat-form-field>
    </div>
    <div class="col-md-3">
      <mat-form-field class="w-100">
        <input matInput placeholder="Typ grupy" formControlName="groupType">
      </mat-form-field>
    </div>
    <div class="col-md-3">
      <mat-form-field class="w-100">
        <input matInput placeholder="Zarobek" formControlName="wage" type="money">
      </mat-form-field>
    </div>
  </div>
  <div formArrayName="tripAttr" class="crew-container shadow p-2" *ngFor="let attrName of attr.controls;index as index">
    <div class="row crew-header">
      <div class="col">
        <span>Atrakcja wycieczki - {{ index + 1 }}</span>
        <mat-icon class="float-right cursor" (click)="removeAttr(index)">delete_forever</mat-icon>
      </div>
    </div>
    <div class="row" [formGroupName]="index">
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-select formControlName="attrName" placeholder="Nazwa atrakcji" required>
            <mat-option *ngFor="let attr of attrs$" [value]="attr.name">{{ attr.name }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <input matInput placeholder="Dodatkowy przewodnik" formControlName="additionalGuide">
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <input matInput placeholder="Godzina przybycia" formControlName="startHour" required>
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <input matInput placeholder="Godzina zakończenia" formControlName="endHour" required>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <button mat-fab color="accent" id="go-home-btn" class="add-attr" (click)="addAttr()">+</button>
    </div>
  </div>
</form>
